# PRODPLAN: Ð¡Ð¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð¸Ðº API Ð¸ ÐºÐ¾Ð¼Ð°Ð½Ð´

**Ð’ÐµÑ€ÑÐ¸Ñ:** 1.6  
**Ð”Ð°Ñ‚Ð°:** 2025-09-16

## ðŸ’» CLI ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ (`main.py`)

### Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ

#### `init-db` â€” Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…
```bash
python main.py init-db [--db PATH]
```
**ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- `--db PATH` â€” ÐŸÑƒÑ‚ÑŒ Ðº SQLite Ð‘Ð” (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ: `data/specifications.db`)

**Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:** Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ Ð²ÑÐµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹, Ð¸Ð½Ð´ÐµÐºÑÑ‹ Ð¸ Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ñ‹

---

### Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…

#### `sync-stock-odata` â€” ÐžÑÑ‚Ð°Ñ‚ÐºÐ¸ Ð¸Ð· 1Ð¡ OData
```bash
python main.py sync-stock-odata --url URL --entity ENTITY [OPTIONS]
```
**ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- `--url URL` â€” URL OData API 1Ð¡  
- `--entity ENTITY` â€” Ð˜Ð¼Ñ ÑÑƒÑ‰Ð½Ð¾ÑÑ‚Ð¸ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: `AccumulationRegister_Ð—Ð°Ð¿Ð°ÑÑ‹ÐÐ°Ð¡ÐºÐ»Ð°Ð´Ð°Ñ…`)

**Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- `--auth-type basic|bearer` â€” Ð¢Ð¸Ð¿ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸
- `--username USER` â€” Ð›Ð¾Ð³Ð¸Ð½ Ð´Ð»Ñ Basic Auth
- `--password PASS` â€” ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð´Ð»Ñ Basic Auth  
- `--token TOKEN` â€” Bearer Ñ‚Ð¾ÐºÐµÐ½
- `--dry-run` â€” Ð ÐµÐ¶Ð¸Ð¼ Ð¿Ñ€ÐµÐ´Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° Ð±ÐµÐ· Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹

**ÐŸÑ€Ð¸Ð¼ÐµÑ€:**
```bash
python main.py sync-stock-odata \
  --url "http://srv-1c:8080/base/odata/standard.odata" \
  --entity "AccumulationRegister_Ð—Ð°Ð¿Ð°ÑÑ‹ÐÐ°Ð¡ÐºÐ»Ð°Ð´Ð°Ñ…" \
  --auth-type basic \
  --username admin \
  --password password123
```

#### `sync-stock` â€” ÐžÑÑ‚Ð°Ñ‚ÐºÐ¸ Ð¸Ð· Excel Ñ„Ð°Ð¹Ð»Ð¾Ð²
```bash
python main.py sync-stock --dir DIRECTORY [OPTIONS]
```
**ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- `--dir DIRECTORY` â€” ÐŸÐ°Ð¿ÐºÐ° Ñ Excel Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸ Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¾Ð²
- `--dry-run` â€” Ð ÐµÐ¶Ð¸Ð¼ Ð¿Ñ€ÐµÐ´Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð°

#### `sync-stock-history` â€” ÐžÑÑ‚Ð°Ñ‚ÐºÐ¸ Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸ÐµÐ¼ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸
```bash
python main.py sync-stock-history --dir DIRECTORY [OPTIONS]
```
**ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸:**
- Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ ÑÐ½Ð¸Ð¼Ð¾Ðº Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¾Ð² Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ `stock_history`
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑƒÐ´Ð°Ð»ÑÐµÑ‚ Ð·Ð°Ð¿Ð¸ÑÐ¸ ÑÑ‚Ð°Ñ€ÑˆÐµ 30 Ð´Ð½ÐµÐ¹
- ÐŸÐ¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð°Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÐµÐ½Ð´Ñ‹ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÐµÐ½Ð¸Ñ

#### `sync-specs` â€” Ð¡Ð¿ÐµÑ†Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¸Ð· Excel
```bash
python main.py sync-specs --dir DIRECTORY [OPTIONS]
```
**ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- `--dir DIRECTORY` â€” ÐŸÐ°Ð¿ÐºÐ° Ñ Excel ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸ÑÐ¼Ð¸ (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ: `specs/`)
- `--map-empty-stage-to STAGE` â€” Ð—Ð°Ð¼ÐµÐ½Ð° Ð¿ÑƒÑÑ‚Ñ‹Ñ… ÑÑ‚Ð°Ð¿Ð¾Ð² (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ: "Ð—Ð°ÐºÑƒÐ¿ÐºÐ°")

---

### Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ñ‡ÐµÑ‚Ð¾Ð²

#### `generate-plan` â€” ÐŸÐ»Ð°Ð½ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð° (Excel)
```bash
python main.py generate-plan --out OUTPUT [OPTIONS]
```
**ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- `--out OUTPUT` â€” ÐŸÑƒÑ‚ÑŒ Ðº Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ð¾Ð¼Ñƒ Ñ„Ð°Ð¹Ð»Ñƒ Excel
- `--days DAYS` â€” ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð´Ð½ÐµÐ¹ Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ (Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ: 30)
- `--start-date YYYY-MM-DD` â€” Ð”Ð°Ñ‚Ð° Ð½Ð°Ñ‡Ð°Ð»Ð° Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

**Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:** 
- Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ð»Ð¸ÑÑ‚ Ñ Ð¿Ð»Ð°Ð½Ð¾Ð¼ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð°
- ÐžÑ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð»Ð¸ÑÑ‚Ñ‹ Ð¿Ð¾ ÑÑ‚Ð°Ð¿Ð°Ð¼ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð°
- Ð›Ð¸ÑÑ‚ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

#### `calculate-orders` â€” Ð Ð°ÑÑ‡ÐµÑ‚ Ð·Ð°ÐºÐ°Ð·Ð¾Ð²
```bash
python main.py calculate-orders --output DIRECTORY [OPTIONS]
```
**ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹:**
- `--output DIRECTORY` â€” ÐŸÐ°Ð¿ÐºÐ° Ð´Ð»Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð·Ð°ÐºÐ°Ð·Ð¾Ð²

**Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:**
- `orders_production.xlsx` â€” Ð—Ð°ÐºÐ°Ð·Ñ‹ Ð½Ð° Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ (Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°Ð¼ RED/BLUE/GREEN)
- `orders_purchase.xlsx` â€” Ð—Ð°ÐºÐ°Ð·Ñ‹ Ð½Ð° Ð·Ð°ÐºÑƒÐ¿ÐºÑƒ

---

## ðŸŒ Ð’ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ (Quasar)

### Ð—Ð°Ð¿ÑƒÑÐº UI
```bash
# Windows
run_ui.bat

# Linux/Mac
npm run dev

# Ð¡ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸
npm run dev --port 9000
```

### Ð¡Ñ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°

#### ðŸ“‹ "ÐŸÐ»Ð°Ð½ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð°"
**Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸:**
- Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð½ÐµÐ²Ð½Ñ‹Ñ… Ð¿Ð»Ð°Ð½Ð¾Ð² Ð¿Ð¾ Ð¸Ð·Ð´ÐµÐ»Ð¸ÑÐ¼
- ÐÐ²Ñ‚Ð¾ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð² Ð‘Ð” (`production_plan_entries`)
- Ð Ð°ÑÑ‡ÐµÑ‚ "ÐŸÐ»Ð°Ð½ Ð½Ð° Ð¼ÐµÑÑÑ†" ÐºÐ°Ðº ÑÑƒÐ¼Ð¼Ð° Ð¿Ð¾ Ð´Ð½ÑÐ¼
- Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² CSV

**ÐšÐ½Ð¾Ð¿ÐºÐ¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ:**
- "ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸" â€” Ð·Ð°Ð¿ÑƒÑÐº `sync-specs`
- "ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¸" â€” Ð·Ð°Ð¿ÑƒÑÐº `sync-stock`
- ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐ³Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¾Ð²

#### ðŸ­ "Ð­Ñ‚Ð°Ð¿Ñ‹"
**Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸:**
- ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ Ð¿Ð»Ð°Ð½Ð° Ð¿Ð¾ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ð¾Ð¼Ñƒ ÑÑ‚Ð°Ð¿Ñƒ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð°
- Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¿Ð¾ Ð¸Ð·Ð´ÐµÐ»Ð¸ÑÐ¼ Ñ Ð¿Ð¾Ð´Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ°Ð¼Ð¸
- Ð ÐµÐ¶Ð¸Ð¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ (read-only)

---

## ðŸ“ Batch ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ (Windows)

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¸
```bash
init_db.bat                 # Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð‘Ð”
sync_stock.bat              # Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¾Ð² Ð¸Ð· Excel  
sync_stock_history.bat      # Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ Ð¸ÑÑ‚Ð¾Ñ€Ð¸ÐµÐ¹
generate_plan.bat           # Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¿Ð»Ð°Ð½Ð° Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð°
calculate_orders.bat        # Ð Ð°ÑÑ‡ÐµÑ‚ Ð·Ð°ÐºÐ°Ð·Ð¾Ð²
run_ui.bat                  # Ð—Ð°Ð¿ÑƒÑÐº Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°
```

### ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ð² batch Ñ„Ð°Ð¹Ð»Ð°Ñ…:
```batch
@echo off
chcp 65001 >nul
set PYTHONUTF8=1
set PYTHONIOENCODING=utf-8
```

---

## ðŸ”Œ Python API

### ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð²

#### ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð‘Ð”
```python
from src.database import get_connection

conn = get_connection("data/specifications.db")
cursor = conn.cursor()
```

#### Ð Ð°ÑÑ‡ÐµÑ‚ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð½Ð¾ÑÑ‚ÐµÐ¹ BOM
```python
from src.bom_calculator import explode_bom_for_root

# Ð Ð°Ð·Ð²ÐµÑ€Ñ‚ÐºÐ° ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð´Ð»Ñ ÐºÐ¾Ñ€Ð½ÐµÐ²Ð¾Ð³Ð¾ Ð¸Ð·Ð´ÐµÐ»Ð¸Ñ
components = explode_bom_for_root(conn, root_item_id=123, quantity=10)
```

#### Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¾Ð²
```python
from src.stock_sync import sync_stock

# Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¾Ð² Ð¸Ð· Ð¿Ð°Ð¿ÐºÐ¸
result = sync_stock(conn, directory="ostatki/", dry_run=False)
```

#### Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¿Ð»Ð°Ð½Ð°
```python
from src.planner import generate_production_plan

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Excel Ñ„Ð°Ð¹Ð»Ð° Ð¿Ð»Ð°Ð½Ð°
generate_production_plan(
    conn, 
    output_file="output/plan.xlsx", 
    days=30,
    start_date="2025-09-16"
)
```

---

## ðŸ“Š Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…

### Excel â€” ÐŸÐ»Ð°Ð½ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð°
**Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð»Ð¸ÑÑ‚Ð¾Ð²:**
- **"ÐŸÐ»Ð°Ð½ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð°"** â€” Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ñ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ°Ð¼Ð¸:
  - ÐÐ°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ, ÐÑ€Ñ‚Ð¸ÐºÑƒÐ»
  - Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾, ÐÐµÐ´Ð¾Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾, ÐŸÐ»Ð°Ð½ Ð½Ð° Ð¼ÐµÑÑÑ†  
  - 30 ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº Ð´Ð°Ñ‚ (Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐµÐ¼Ñ‹Ðµ)
  
- **Ð›Ð¸ÑÑ‚Ñ‹ ÑÑ‚Ð°Ð¿Ð¾Ð²** â€” Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð»Ð¸ÑÑ‚ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÑ‚Ð°Ð¿Ð°:
  - 8 ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº Ñ Ð¿Ð¾Ð´Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ°Ð¼Ð¸ Ð¿Ð¾ Ð¸Ð·Ð´ÐµÐ»Ð¸ÑÐ¼
  - Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ° ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð² Ð¿Ð¾Ð´ Ð¸Ð·Ð´ÐµÐ»Ð¸ÑÐ¼Ð¸

- **"Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº"** â€” ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ ÑÑ‚Ð°Ð¿Ð¾Ð²:
  - Ð’Ñ‹Ð¿Ð°Ð´Ð°ÑŽÑ‰Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ¸ Ð”Ð°/ÐÐµÑ‚ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑÑ‚Ð°Ð¿Ð°

### Excel â€” Ð—Ð°ÐºÐ°Ð·Ñ‹
**orders_production.xlsx:**
- Ð›Ð¸ÑÑ‚Ñ‹ Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°Ð¼: RED, BLUE, GREEN
- ÐšÐ¾Ð»Ð¾Ð½ÐºÐ¸: ÐÑ€Ñ‚Ð¸ÐºÑƒÐ», ÐÐ°Ð¸Ð¼ÐµÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ, ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾, Ð¡Ñ€Ð¾Ðº, Ð¡Ñ‚Ð°Ñ‚ÑƒÑ

**orders_purchase.xlsx:**
- Ð—Ð°ÐºÐ°Ð·Ñ‹ Ð½Ð° Ð·Ð°ÐºÑƒÐ¿ÐºÑƒ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð¾Ð²
- Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð¿Ð¾ Ð¿Ð¾ÑÑ‚Ð°Ð²Ñ‰Ð¸ÐºÐ°Ð¼

### CSV ÑÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð¸Ð· UI
- UTF-8 ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐ°
- Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ: Ð·Ð°Ð¿ÑÑ‚Ð°Ñ
- Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð»Ð°Ð½Ð°

---

## âš™ï¸ ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ

### ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
```bash
export PRODPLAN_DB_PATH="data/specifications.db"
export PRODPLAN_SPECS_DIR="specs/"
export PRODPLAN_STOCK_DIR="ostatki/"
```

### Ð¤Ð°Ð¹Ð» `requirements.txt`
```
openpyxl>=3.1.2
pandas>=2.1.0  
numpy>=1.23.0
python-dateutil>=2.8.2
requests>=2.31.0
```